'use strict';var $jscomp={scope:{},getGlobal:function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.patches={};$jscomp.patch=function(b,c){($jscomp.patches[b]=$jscomp.patches[b]||[]).push(c);var a=$jscomp.global;b=b.split(".");for(var d=0;d<b.length-1&&a;d++)a=a[b[d]];b=b[b.length-1];a&&a[b]instanceof Function&&(a[b]=c(a[b]))};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol){$jscomp.global.Symbol=$jscomp.Symbol;var b=[],c=function(a){return function(c){b=[];c=a(c);for(var f=[],e=0,g=c.length;e<g;e++){var h;a:if(h=c[e],h.length<$jscomp.SYMBOL_PREFIX.length)h=!1;else{for(var k=0;k<$jscomp.SYMBOL_PREFIX.length;k++)if(h[k]!=$jscomp.SYMBOL_PREFIX[k]){h=!1;break a}h=!0}h?b.push(c[e]):f.push(c[e])}return f}};$jscomp.patch("Object.keys",c);$jscomp.patch("Object.getOwnPropertyNames",c);$jscomp.patch("Object.getOwnPropertySymbols",
function(a){return function(d){c.unused=Object.getOwnPropertyNames(d);b.push.apply(a(d));return b}})}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+b+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var c=b[Symbol.iterator];if(c)return c.call(b);var a=0;return{next:function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}}};var Chart=function(b){this.render=function(c){c=new Chart.Data(c);c.ajaxLoader(b,c.dataParser.bind(c));this.customSort&&(c.customSort=this.customSort)}};var chartUtilities={};
(function(){Chart.chartUtilities={};Chart.chartUtilities.nullMinMapper=function(b){return""===b?Infinity:b};Chart.chartUtilities.nullMaxMapper=function(b){return""===b?-Infinity:b};Chart.chartUtilities.isSvgColliding=function(b,c){return!(c.left>b.right||c.right<b.left||c.top>b.bottom||c.bottom<b.top)};Chart.chartUtilities.getLineIntersectionPoint=function(b,c,a,d,f,e,g,h){var k,l={x:null,y:null};k=(b-a)*(e-h)-(c-d)*(f-g);if(!k)return l;l.x=((b*d-c*a)*(f-g)-(b-a)*(f*h-e*g))/k;l.y=((b*d-c*a)*(e-h)-
(c-d)*(f*h-e*g))/k;return l};Chart.chartUtilities.getInterpolatedVal=function(b,c,a,d,f){b=Number(b);a=Number(a);c=Number(c);d=Number(d);return Math.round(100*(c+(f-b)/(a-b)*(d-c)))/100};Chart.chartUtilities.generateColor=function(b,c,a){b=String(b).replace(/[^0-9a-f]/gi,"");6>b.length&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]);c=String(c).replace(/[^0-9a-f]/gi,"");6>c.length&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]);a=a||0;var d=Math.ceil(parseInt(b.substring(0,2),16)*a+parseInt(c.substring(0,2),16)*(1-a)),f=Math.ceil(parseInt(b.substring(2,
4),16)*a+parseInt(c.substring(2,4),16)*(1-a));b=Math.ceil(parseInt(b.substring(4,6),16)*a+parseInt(c.substring(4,6),16)*(1-a));return"#"+(Chart.chartUtilities.hex(d)+Chart.chartUtilities.hex(f)+Chart.chartUtilities.hex(b))};Chart.chartUtilities.hex=function(b){b=b.toString(16);return 1==b.length?"0"+b:b};Chart.chartUtilities.shortenLargeNumber=function(b,c){for(var a="kMGTPEZY".split(""),d,f=a.length-1;0<=f;f--)if(d=Math.pow(1E3,f+1),b<=-d||b>=d)return+(b/d).toFixed(c)+a[f];return b};Chart.chartUtilities.allSame=
function(b,c){b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(a.value!==c)return!1;return!0};Chart.chartUtilities.numberMapper=function(b){return""===b?"":Number(b)};Chart.chartUtilities.truncateString=function(b){return 4<b.length?b.substr(0,3)+"...":b};Chart.chartUtilities.inheritsFrom=function(b,c){b.prototype=Object.create(c.prototype)}})();(function(){Chart.Axis=function(b,c,a,d,f,e){this.startX=b;this.startY=c;this.endX=a;this.endY=d;this.className=f;this.svgHelper=new Chart.SvgHelper;this.columnsAreComplete=e};Chart.Axis.prototype.render=function(b){var c=this.svgHelper.drawLineByClass(this.startX,this.startY,this.endX,this.endY,this.className);b.appendChild(c)}})();(function(){Chart.BarChartRenderer=function(b,c){this.Chart_BarChartRenderer$charts=b;this.Chart_BarChartRenderer$chartProperties=c};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$displayHeaders=function(b,c,a){var d,f=new Chart.SvgHelper,e=$jscomp.makeIterator(a);for(d=e.next();!d.done;d=e.next()){d=d.value;this.Chart_BarChartRenderer_prototype$createDivs(this.renderDiv);var g=f.createSvgByClass(b,c,"header-svg"),h=document.getElementsByClassName("multi-chart-header");Array.from(h).map(function(a,
b){a.style.borderBottom="1px solid black";0<b&&(a.style.borderRight="1px solid black");a.appendChild(g)});d=1<a.indexOf(d)?f.drawTextByClass(Math.floor(c/2-2*d.length),16,d,"header"):f.drawTextByClass(16,16,d,"header");g.appendChild(d)}};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$drawRowName=function(b,c,a,d,f,e,g,h){c=Math.floor(0);var k=Math.floor(1);f=this.Chart_BarChartRenderer$chartProperties.dataMapper(Math.ceil(f)-c,Math.ceil(e)-k,c,k,b[0]);[].push(f);a=a.drawTextByClass(16,
f.xTicks[0]+8,b[g].category,"category-text");d.appendChild(a);d.setAttributeNS(null,"class","row-category");g!==b.length-1&&h!==this.totalRows-1&&(d.style.borderBottom="1px solid black")};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$drawYLabels=function(b,c,a,d,f,e,g,h){c=Math.floor(0);var k=Math.floor(1);f=this.Chart_BarChartRenderer$chartProperties.dataMapper(Math.ceil(f)-c,Math.ceil(e)-k,c,k,b[0]);[].push(f);e=$jscomp.makeIterator(f.xTicks);for(c=e.next();!c.done;c=e.next())c=
c.value,k=b[g].xData[f.xTicks.indexOf(c)],c=a.drawTextByClass(16,c+8,k,"y-value"),d.appendChild(c);d.setAttributeNS(null,"class","y-labels");g!==b.length-1&&h!==this.totalRows-1&&(d.style.borderBottom="1px solid black")};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$drawX=function(b,c,a,d){var f=[],e=Math.ceil(c),g=Math.floor(0),h=Math.floor(1),k=Math.ceil(b)-g,l=e-h,r=new Chart.SvgHelper,q=this.Chart_BarChartRenderer$chartProperties.dataMapper(k,l,g,h,this.Chart_BarChartRenderer$charts[0]);
[].push(q);for(var g=$jscomp.makeIterator(a),m=g.next();!m.done;m=g.next()){var m=m.value,n=document.createElement("span");n.setAttribute("class","multi-chart-footer");n.style.display="inline-block";document.getElementById(this.renderDiv).appendChild(n);var t=r.createSvgByClass(b,c,"footer-svg"),n=document.getElementsByClassName("multi-chart-footer"),p=new Chart.XAxis(h,0,e,0,"xAxis",!0);p.type="numeric";Array.from(n).map(function(a,b){a.style.borderTop="1px solid black";0<b&&(a.style.borderRight=
"1px solid black");a.appendChild(t)});var n=document.getElementsByClassName("footer-svg"),w=this;Array.from(n).map(function(a,b){if(1<b)for(p.renderTicks(t,q.yTicks),a=$jscomp.makeIterator(w.Chart_BarChartRenderer$charts[0].yTicks),b=a.next();!b.done;b=a.next())f.push(Chart.chartUtilities.shortenLargeNumber(b.value,2))});p.chartVis="crosstabs";p.renderTickValues(t,q.yTicks,f);1<a.indexOf(m)&&(m=r.drawTextByClass(l/2-3*d.length,k/1.2,d,"x-title"),t.appendChild(m))}};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$displayCharts=
function(b,c,a){var d=-Infinity,f=Infinity;if("trellis"===this.Chart_BarChartRenderer$charts[0].vis){a=Math.floor(window.innerWidth/(c+55));a>this.Chart_BarChartRenderer$charts.length&&(a=this.Chart_BarChartRenderer$charts.length);for(var e=0;e<this.Chart_BarChartRenderer$charts.length;e++){for(var g=e;g<a;g++){var h=Math.max.apply(Math,this.Chart_BarChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMaxMapper)),k=Math.min.apply(Math,this.Chart_BarChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMinMapper));
h>d&&(d=h);k<f&&(f=k)}if(Infinity!==f||-Infinity!==d)this.Chart_BarChartRenderer$charts[e].yTicks=this.Chart_BarChartRenderer$chartProperties.calculateYAxis(f,d),this.Chart_BarChartRenderer$charts[e].xTicks=this.Chart_BarChartRenderer$chartProperties.calculateYAxis(0,this.Chart_BarChartRenderer$charts[e].xData.length),this.Chart_BarChartRenderer_prototype$createDivs(this.renderDiv)}this.Chart_BarChartRenderer_prototype$createCharts(this.Chart_BarChartRenderer$charts,b,c)}else if("crosstab"===this.Chart_BarChartRenderer$charts[0].vis){this.Chart_BarChartRenderer_prototype$createDivs(this.renderDiv,
a);this.Chart_BarChartRenderer_prototype$createDivs(this.renderDiv,a);for(e=0;e<this.Chart_BarChartRenderer$charts.length;e++)g=Math.max.apply(Math,this.Chart_BarChartRenderer$charts[e].yData.map(Chart.chartUtilities.nullMaxMapper)),h=Math.min.apply(Math,this.Chart_BarChartRenderer$charts[e].yData.map(Chart.chartUtilities.nullMinMapper)),g>d&&(d=g),h<f&&(f=h),Infinity===f&&-Infinity===d||this.Chart_BarChartRenderer_prototype$createDivs(this.renderDiv,a);for(e=0;e<this.Chart_BarChartRenderer$charts.length;e++)if(Infinity!==
f||-Infinity!==d)this.Chart_BarChartRenderer$charts[e].yTicks=this.Chart_BarChartRenderer$chartProperties.calculateYAxis(this.Chart_BarChartRenderer$charts[0].minY,this.Chart_BarChartRenderer$charts[0].maxY),this.Chart_BarChartRenderer$charts[e].xTicks=this.Chart_BarChartRenderer$chartProperties.calculateYAxis(this.Chart_BarChartRenderer$charts[0].minY,this.Chart_BarChartRenderer$charts[0].maxY);this.Chart_BarChartRenderer_prototype$createCharts(this.Chart_BarChartRenderer$charts,b,c,a)}else console.log("unavailable chart visualization.")};
Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$createDivs=function(b,c){var a=document.createElement("span");void 0!==c?a.setAttribute("class","multi-chart"+c):void 0===c&&"crosstab"===this.Chart_BarChartRenderer$charts[0].vis?a.setAttribute("class","multi-chart-header"):a.setAttribute("class","multi-chart");a.style.display="inline-block";document.getElementById(b).appendChild(a)};Chart.BarChartRenderer.prototype.colorPlots=function(b){var c,a,d,f=document.getElementsByClassName("chart-svg"),
e=this,g=b.filter(function(a){return 0>a?!0:!1}),h=Math.max.apply(Math,g)-Math.min.apply(Math,g);b=b.filter(function(a){return 0<=a?!0:!1});var k=Math.max.apply(Math,b)-Math.min.apply(Math,b);Array.from(f).map(function(b,f){if("line"===e.Chart_BarChartRenderer$charts[0].type){d=b.getElementsByClassName("graphCircle");Array.from(d).map(function(b,d,f){d=Number(b.getAttributeNS(null,"data-criteria"));0>d?(a=d/h,c=Chart.chartUtilities.generateColor(e.negativeColor,e.negativeColorEnd,a)):(a=d/k,c=Chart.chartUtilities.generateColor(e.plotColor,
e.plotColorEnd,a));b.style.fill=c;b.style.stroke=c});var g=Array.from(b.getElementsByClassName("graphLine")),m=Array.from(b.getElementsByClassName("graphCircle"));g.map(function(a,b,c){0===a.parentNode.getElementsByTagName("defs").length&&(b=document.createElementNS("http://www.w3.org/2000/svg","defs"),a.parentNode.appendChild(b))});g.map(function(a,b,c){var d,e;c=a.parentNode.getElementsByTagName("defs");var g=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");g.setAttributeNS(null,
"id","lineGradient"+f+b);g.setAttributeNS(null,"x1","0");g.setAttributeNS(null,"x2","0");g.setAttributeNS(null,"y1","0");g.setAttributeNS(null,"y2","1");var h=document.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttributeNS(null,"offset","5%");var k=a.getAttributeNS(null,"x1"),l=a.getAttributeNS(null,"y1"),q=a.getAttributeNS(null,"x2"),B=a.getAttributeNS(null,"y2");m.map(function(a){a.getAttributeNS(null,"cx")==k&&a.getAttributeNS(null,"cy")==l&&(d=a)});var A=document.createElementNS("http://www.w3.org/2000/svg",
"stop");A.setAttributeNS(null,"offset","95%");m.map(function(a){a.getAttributeNS(null,"cx")==q&&a.getAttributeNS(null,"cy")==B&&(e=a)});h.setAttributeNS(null,"stop-color",d.style.fill);A.setAttributeNS(null,"stop-color",e.style.fill);g.appendChild(h);g.appendChild(A);c[0].appendChild(g);a.style.stroke="url(#lineGradient"+f+b+")"})}else"bar"===e.Chart_BarChartRenderer$charts[0].type&&(d=b.getElementsByClassName("bar-plot"),Array.from(d).map(function(b,d,f){d=Number(b.getAttributeNS(null,"data-criteria"));
0>d?(a=d/h,c=Chart.chartUtilities.generateColor(e.negativeColor,e.negativeColorEnd,a)):(a=d/k,c=Chart.chartUtilities.generateColor(e.plotColor,e.plotColorEnd,a));b.style.fill=c}))})};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$createCaptions=function(b,c,a){var d=document.createElement("h1");d.setAttribute("class","caption");b=document.getElementById(b);d.innerHTML=c;b.appendChild(d);c=document.createElement("h2");c.setAttribute("class","sub-caption");c.innerHTML=a;b.appendChild(c)};
Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$drawCompleteCharts=function(b,c,a,d,f,e,g,h,k,l){var r,q=[],m=0,n=0,t=0,p=0;"crosstab"===this.Chart_BarChartRenderer$charts[0].vis?(m=Math.ceil(g),n=Math.ceil(h),p=Math.floor(0),t=Math.floor(1)):"trellis"===this.Chart_BarChartRenderer$charts[0].vis?(m=Math.ceil(g-.001*g)+55,n=Math.ceil(h-.025*h)+55,p=Math.floor(0+.2*g)+55,t=Math.floor(0+.025*g)+55):console.log("Unsupported chart visualization.");g=m-p;var w=n-t;h=this.Chart_BarChartRenderer$chartProperties.dataMapper(g,
w,p,t,c[b]);[].push(h);if("crosstab"===this.Chart_BarChartRenderer$charts[0].vis){var u=new Chart.YAxis(t,p,t,m,"yAxis",k);u.type="category";l!==this.totalRows-1&&(k=new Chart.XAxis(n,m,t,m,"xAxis",k),k.type="numeric",k.render(e));if(b>=a.length-d)for(a=$jscomp.makeIterator(c[b].yTicks),d=a.next();!d.done;d=a.next())q.push(Chart.chartUtilities.shortenLargeNumber(d.value,2));a=f.drawRectByClass(t,p-40,30,w,"y-title-rect");a=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")";n=f.drawTextByClass(n/
2-15,p-20,a,"y-title");if("line"===this.Chart_BarChartRenderer$charts[0].type)for(n=0;n<h.yData.length-1;n++)if(a=0,""!==h.yData[n+1]&&""!==h.yData[n])a=f.drawLineByClass(h.yData[n]+t,h.xData[n]+p,h.yData[n+1]+t,h.xData[n+1]+p,"graphLine"),e.appendChild(a);else if(""!==h.yData[n])for(d=n+2;d<h.yData.length;d++)if(n++,a++,""!==h.yData[d]){a=f.drawLineByClass(h.yData[n-a]+t,h.xData[n-a]+p,h.yData[d]+t,h.xData[d]+p,"graphLine inferredLine");e.appendChild(a);break}for(n=0;n<h.yData.length;n++)""!==h.yData[n]&&
(a=f.drawCircleByClass(h.yData[n]+t,h.xData[n]+p,4,"graphCircle"),a.setAttributeNS(null,"data-value",c[b].yData[n]),"line"===this.Chart_BarChartRenderer$charts[0].type?(a.setAttributeNS(null,"data-criteria",c[b].colorCriteria[n]),e.appendChild(a)):(a=g/h.xData.length-13,27<a&&(a=27),0<e.getElementsByClassName("zeroPlane").length||(r=c[b].yData.filter(function(a){return 0===a?!0:!1}),2>h.yData[n]&&0===r.length&&(h.yData[n]=2),r=f.drawRectByClass(t-1,h.xData[n]+p-a/2,a,h.yData[n],"bar-plot")),r.setAttributeNS(null,
"data-criteria",c[b].colorCriteria[n]),r.setAttributeNS(null,"data-value",c[b].yData[n]),e.appendChild(r)))}else if("trellis"===this.Chart_BarChartRenderer$charts[0].vis)for(u=new Chart.YAxis(t,p-55,t,m-55,"yAxis",k),u.type="category",u.render(e),u.renderTicks(e,h.xTicks),b%d||u.renderTickValues(e,h.xTicks,c[b].xData),k=new Chart.XAxis(n,m-55,t,m-55,"xAxis",k),k.render(e),0<e.getElementsByClassName("zeroPlane").length&&(q=e.getElementsByClassName("xAxis"),Array.from(q).map(function(a){a.style.strokeWidth=
0})),k.renderTicks(e,h.yTicks),q=c[b].yTicks.map(function(a){return Chart.chartUtilities.shortenLargeNumber(a,2)}),b>=a.length-d&&k.renderTickValues(e,h.yTicks,q),a=f.drawRectByClass(t,p-55-40,30,w,"y-title-rect"),e.appendChild(a),a=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")",n=f.drawTextByClass(n/2-a.length,p-55-20,a,"y-title"),e.appendChild(n),n=0;n<h.yData.length;n++)""!==h.yData[n]&&(a=f.drawCircleByClass(h.yData[n]+t,h.xData[n]+p-55,4,"graphCircle"),a.setAttributeNS(null,"data-value",
c[b].yData[n]),a=g/h.xData.length-13,27<a&&(a=27),0<e.getElementsByClassName("zeroPlane").length||(r=f.drawRectByClass(t,h.xData[n]+p-a/2-55,a,h.yData[n],"column-plot")),r.setAttributeNS(null,"data-value",c[b].yData[n]),e.appendChild(r));else console.log("Unsupported chart visualization.")};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$drawIncompleteCharts=function(b,c,a,d,f,e,g,h,k){var l,r;a=Math.ceil(g-.095*g)+55;var q=Math.ceil(h-.025*h)+55;h=Math.floor(0+.025*g)+55;g=Math.floor(0+
.025*g)+55;var m=a-h,n=q-g,t=this.Chart_BarChartRenderer$chartProperties.dataMapper(m,n,h,g,c[b]);[].push(t);var p=new Chart.YAxis(g,h-15,g,a-15,"yAxis",k);p.render(e);p.renderTicks(e,t.xTicks);b%d||p.renderTickValues(e,t.xTicks,c[b].xData);k=new Chart.XAxis(g,h-15,q,h-15,"xAxis",k);k.render(e);k.renderTicks(e,t.yTicks);p=c[b].yTicks.map(function(a){return Chart.chartUtilities.shortenLargeNumber(a,2)});b<d&&k.renderTickValues(e,t.yTicks,p);d=f.drawRectByClass(g,a-7,30,n,"y-title-rect");e.appendChild(d);
d=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")";"crosstab"===this.Chart_BarChartRenderer$charts[0].vis?r=f.drawTextByClass(q/2-15,a+15,d,"y-title"):"trellis"===this.Chart_BarChartRenderer$charts[0].vis?r=f.drawTextByClass(q/2-d.length,a+15,d,"y-title"):console.log("Unsupported chart visualization.");e.appendChild(r);for(r=0;r<t.yData.length;r++)""!==t.yData[r]&&(f.drawCircleByClass(t.yData[r]+g,m-t.xData[r]+h-15,4,"graphCircle").setAttributeNS(null,"data-value",c[b].yData[r]),a=m/t.xData.length-
13,27<a&&(a=27),0<e.getElementsByClassName("zeroPlane").length||(l=f.drawRectByClass(g,t.xData[r]+h-a/2-15,a,t.yData[r],"column-plot")),l.setAttributeNS(null,"data-value",c[b].yData[r]),e.appendChild(l))};Chart.BarChartRenderer.prototype.Chart_BarChartRenderer_prototype$createCharts=function(b,c,a,d){var f,e,g,h=new Chart.SvgHelper,k=Math.floor(window.innerWidth/a);"crosstab"===this.Chart_BarChartRenderer$charts[0].vis?(e=document.getElementsByClassName("multi-chart"+d),f=!0):"trellis"===this.Chart_BarChartRenderer$charts[0].vis?
(e=document.getElementsByClassName("multi-chart"),k>e.length&&(k=e.length),f=e.length%k?!1:!0):console.log("Visualization unsupported.");for(var l=0;l<e.length;l++){"crosstab"===this.Chart_BarChartRenderer$charts[0].vis?(g=h.createSvgByClass(c,a,"chart-svg"),l?1===l?this.Chart_BarChartRenderer_prototype$drawYLabels(b,e,h,g,c,a,l,d):f?this.Chart_BarChartRenderer_prototype$drawCompleteCharts(l-2,b,e,k,h,g,c,a,f,d):this.Chart_BarChartRenderer_prototype$drawIncompleteCharts(l-2,b,e,k,h,g,c,a,f):this.Chart_BarChartRenderer_prototype$drawRowName(b,
e,h,g,c,a,l,d),e[l].appendChild(g),0<l&&(e[l].style.borderRight="1px solid black")):"trellis"===this.Chart_BarChartRenderer$charts[0].vis?(g=h.createSvgByClass(c+55,a+55,"chart-svg"),f?this.Chart_BarChartRenderer_prototype$drawCompleteCharts(l,b,e,k,h,g,c,a,f):this.Chart_BarChartRenderer_prototype$drawIncompleteCharts(l,b,e,k,h,g,c,a,f),e[l].appendChild(g)):console.log("Visualization unsupported.");for(var r=g.getElementsByClassName("x-value"),q=0;q<r.length;q++){var m=h.getRotationPoint(r[q]);r[q].setAttributeNS(null,
"transform","rotate(270 "+m+")")}}}})();(function(){Chart.ChartPropertyCalculator=function(b){this.Chart_ChartPropertyCalculator$charts=b};Chart.ChartPropertyCalculator.prototype.dataMapper=function(b,c,a,d,f){var e=[],g=[],h=[],k=[],l=f.type,r=f.vis,q=f.yTicks[0],m=f.yTicks[f.yTicks.length-1],n=f.xTicks[0];Math.min.apply(Math,f.yData.map(Chart.chartUtilities.nullMinMapper));Math.max.apply(Math,f.yData.map(Chart.chartUtilities.nullMaxMapper));var t=f.xData.length-1;if("trellis"===r){for(var r=$jscomp.makeIterator(f.yTicks),p=r.next();!p.done;p=
r.next()){p=p.value;if("bar"===f.type)var w=d,u=c/(m-q);else w=a,u=b/(m-q);w+=u*(p-q);e.push(Math.floor(w))}r=$jscomp.makeIterator(f.yData);for(p=r.next();!p.done;p=r.next())p=p.value,""===p?h.push(""):(w=0,u="bar"===f.type?c/(m-q):b/(m-q),w+=u*(p-q),h.push(Math.floor(w)));if("column"===l){l=Math.floor((c-80)/(f.xData.length-1));a=d+40;b=$jscomp.makeIterator(f.xData);for(d=b.next();!d.done;d=b.next())g.push(a),a+=l;for(a=0;a<=t;a++)d=40,l=(c-80)/(t-0),d=a?d+l*(a-0):d+l*(a-n),k.push(Math.floor(d))}else if("line"===
l){l=Math.floor(c/(f.xData.length-1));a=d;b=$jscomp.makeIterator(f.xData);for(d=b.next();!d.done;d=b.next())g.push(a),a+=l;for(a=0;a<=t;a++)d=0,l=c/(t-0),d=a?d+l*(a-0):d+l*(a-n),k.push(Math.floor(d))}else if("bar"===l){l=Math.floor((b-35)/(f.xData.length-1));a+=20;c=$jscomp.makeIterator(f.xData);for(d=c.next();!d.done;d=c.next())g.push(a),a+=l;for(a=0;a<=t;a++)d=20,l=(b-35)/(t-0),d+=l*(a-0),k.push(Math.floor(d))}}else if("crosstab"===r){r=$jscomp.makeIterator(f.yTicks);for(p=r.next();!p.done;p=r.next())p=
p.value,"bar"===f.type||"line"===f.type?(w=d,u=c/(m-q)):(w=a,u=b/(m-q)),w+=u*(p-q),e.push(Math.floor(w));r=$jscomp.makeIterator(f.yData);for(p=r.next();!p.done;p=r.next())p=p.value,""===p?h.push(""):(w=0,u="bar"===f.type||"line"===f.type?c/(m-q):b/(m-q),w+=u*(p-q),h.push(Math.floor(w)));if("bar"===l||"line"===l){l=Math.floor((b-35)/(f.xData.length-1));a+=20;c=$jscomp.makeIterator(f.xData);for(d=c.next();!d.done;d=c.next())g.push(a),a+=l;for(a=0;a<=t;a++)d=20,l=(b-35)/(t-0),d+=l*(a-0),k.push(Math.floor(d))}else if("column"===
l){l=Math.floor((c-80)/(f.xData.length-1));a=d+40;b=$jscomp.makeIterator(f.xData);for(d=b.next();!d.done;d=b.next())g.push(a),a+=l;for(a=0;a<=t;a++)d=40,l=(c-80)/(t-0),d=a?d+l*(a-0):d+l*(a-n),k.push(Math.floor(d))}}return new Chart.MappedChart(f.index,f.xTitle,f.yTitle,k,h,e,g)};Chart.ChartPropertyCalculator.prototype.calculateYAxis=function(b,c,a){a="undefined"!=typeof a?a:8;var d=[];b===c&&(--b,c+=1);2>a?a=2:2<a&&(a-=2);a=(c-b)/a;var f=Math.pow(10,Math.floor(Math.log(a)/Math.LN10));a=Math.floor(a/
f+.5)*f;c=a*Math.ceil(c/a);for(b=a*Math.floor(b/a);!(d.push(Math.round(1E3*(b+1E-5))/1E3),b+=a,b>c););return d}})();(function(){})();(function(){Chart.ColumnChartRenderer=function(b,c){this.Chart_ColumnChartRenderer$charts=b;this.Chart_ColumnChartRenderer$chartProperties=c};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$displayHeaders=function(b,c,a){var d,f=new Chart.SvgHelper,e=$jscomp.makeIterator(a);for(d=e.next();!d.done;d=e.next()){d=d.value;this.Chart_ColumnChartRenderer_prototype$createDivs(this.renderDiv);var g=f.createSvgByClass(b,c,"header-svg"),h=document.getElementsByClassName("multi-chart-header");
Array.from(h).map(function(a,b){a.style.borderBottom="1px solid black";0<b&&(a.style.borderRight="1px solid black");a.appendChild(g)});d=1<a.indexOf(d)?f.drawTextByClass(Math.floor(c/2-2*d.length),16,d,"header"):f.drawTextByClass(16,16,d,"header");g.appendChild(d)}};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$drawRowName=function(b,c,a,d,f,e,g,h){c=Math.floor(0);var k=Math.floor(1);f=this.Chart_ColumnChartRenderer$chartProperties.dataMapper(Math.ceil(f)-c,Math.ceil(e)-
k,c,k,b[0]);[].push(f);a=a.drawTextByClass(16,f.yTicks[0]+15,b[g].category,"category-text");d.appendChild(a);d.setAttributeNS(null,"class","row-category");g!==b.length-1&&h!==this.totalRows-1&&(d.style.borderBottom="1px solid black")};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$drawYLabels=function(b,c,a,d,f,e,g,h){c=Math.floor(0);var k=Math.floor(1);f=Math.ceil(f)-c;e=this.Chart_ColumnChartRenderer$chartProperties.dataMapper(f-16,Math.ceil(e)-k,c+1,k,b[0]);[].push(e);
c=$jscomp.makeIterator(e.yTicks);for(k=c.next();!k.done;k=c.next()){var k=k.value,l=b[g].yTicks[e.yTicks.indexOf(k)],k=a.drawTextByClass(16,f-k,l,"y-value");d.appendChild(k)}d.setAttributeNS(null,"class","y-labels");g!==b.length-1&&h!==this.totalRows-1&&(d.style.borderBottom="1px solid black")};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$drawX=function(b,c,a,d){var f=[],e=Math.ceil(c),g=Math.floor(0),h=Math.floor(1),k=Math.ceil(b)-g,l=e-h,r=new Chart.SvgHelper,q=this.Chart_ColumnChartRenderer$chartProperties.dataMapper(k,
l,g,h,this.Chart_ColumnChartRenderer$charts[0]);[].push(q);for(var g=$jscomp.makeIterator(a),m=g.next();!m.done;m=g.next()){var m=m.value,n=document.createElement("span");n.setAttribute("class","multi-chart-footer");n.style.display="inline-block";document.getElementById(this.renderDiv).appendChild(n);var t=r.createSvgByClass(b,c,"footer-svg"),n=document.getElementsByClassName("multi-chart-footer"),p=new Chart.XAxis(h,0,e,0,"xAxis",!0);p.type="numeric";Array.from(n).map(function(a,b){a.style.borderTop=
"1px solid black";0<b&&(a.style.borderRight="1px solid black");a.appendChild(t)});var n=document.getElementsByClassName("footer-svg"),w=this;Array.from(n).map(function(a,b){if(1<b)for(p.renderTicks(t,q.xTicks),a=$jscomp.makeIterator(w.Chart_ColumnChartRenderer$charts[0].xData),b=a.next();!b.done;b=a.next())f.push(Chart.chartUtilities.truncateString(b.value,5))});p.chartVis="crosstabs";p.chartType="column";console.log(this.Chart_ColumnChartRenderer$charts[0]);p.renderTickValues(t,q.xTicks,f);1<a.indexOf(m)&&
(m=r.drawTextByClass(l/2-3*d.length,k/1.2,d,"x-title"),t.appendChild(m))}};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$displayCharts=function(b,c,a){var d=Infinity,f=-Infinity;if("trellis"===this.Chart_ColumnChartRenderer$charts[0].vis){a=Math.floor(window.innerWidth/(c+55));a>this.Chart_ColumnChartRenderer$charts.length&&(a=this.Chart_ColumnChartRenderer$charts.length);for(var e=0;e<this.Chart_ColumnChartRenderer$charts.length;e++){for(var g=e;g<a;g++){var h=Math.max.apply(Math,
this.Chart_ColumnChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMaxMapper)),k=Math.min.apply(Math,this.Chart_ColumnChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMinMapper));h>f&&(f=h);k<d&&(d=k)}if(Infinity!==d||-Infinity!==f)this.Chart_ColumnChartRenderer$charts[e].yTicks=this.Chart_ColumnChartRenderer$chartProperties.calculateYAxis(d,f),this.Chart_ColumnChartRenderer$charts[e].xTicks=this.Chart_ColumnChartRenderer$chartProperties.calculateYAxis(0,this.Chart_ColumnChartRenderer$charts[e].xData.length),
this.Chart_ColumnChartRenderer_prototype$createDivs(this.renderDiv)}this.Chart_ColumnChartRenderer_prototype$createCharts(this.Chart_ColumnChartRenderer$charts,b,c)}else if("crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis){this.Chart_ColumnChartRenderer_prototype$createDivs(this.renderDiv,a);this.Chart_ColumnChartRenderer_prototype$createDivs(this.renderDiv,a);for(e=0;e<this.Chart_ColumnChartRenderer$charts.length;e++)g=Math.max.apply(Math,this.Chart_ColumnChartRenderer$charts[e].yData.map(Chart.chartUtilities.nullMaxMapper)),
h=Math.min.apply(Math,this.Chart_ColumnChartRenderer$charts[e].yData.map(Chart.chartUtilities.nullMinMapper)),g>f&&(f=g),h<d&&(d=h),Infinity===d&&-Infinity===f||this.Chart_ColumnChartRenderer_prototype$createDivs(this.renderDiv,a);for(e=0;e<this.Chart_ColumnChartRenderer$charts.length;e++)if(Infinity!==d||-Infinity!==f)this.Chart_ColumnChartRenderer$charts[e].yTicks=this.Chart_ColumnChartRenderer$chartProperties.calculateYAxis(this.Chart_ColumnChartRenderer$charts[0].minY,this.Chart_ColumnChartRenderer$charts[0].maxY),
this.Chart_ColumnChartRenderer$charts[e].xTicks=this.Chart_ColumnChartRenderer$chartProperties.calculateYAxis(this.Chart_ColumnChartRenderer$charts[0].minY,this.Chart_ColumnChartRenderer$charts[0].maxY);this.Chart_ColumnChartRenderer_prototype$createCharts(this.Chart_ColumnChartRenderer$charts,b,c,a)}else console.log("unavailable chart visualization.")};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$createDivs=function(b,c){var a=document.createElement("span");void 0!==c?
a.setAttribute("class","multi-chart"+c):void 0===c&&"crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis?a.setAttribute("class","multi-chart-header"):a.setAttribute("class","multi-chart");a.style.display="inline-block";document.getElementById(b).appendChild(a)};Chart.ColumnChartRenderer.prototype.colorPlots=function(b){var c,a,d=document.getElementsByClassName("chart-svg"),f=this,e=b.filter(function(a){return 0>a?!0:!1}),g=Math.max.apply(Math,e)-Math.min.apply(Math,e);b=b.filter(function(a){return 0<=
a?!0:!1});var h=Math.max.apply(Math,b)-Math.min.apply(Math,b);Array.from(d).map(function(b,d){b=b.getElementsByClassName("column-plot");Array.from(b).map(function(b,d,e){d=Number(b.getAttributeNS(null,"data-criteria"));0>d?(a=d/g,c=Chart.chartUtilities.generateColor(f.negativeColor,f.negativeColorEnd,a)):(a=d/h,c=Chart.chartUtilities.generateColor(f.plotColor,f.plotColorEnd,a));b.style.fill=c})})};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$createCaptions=function(b,c,
a){var d=document.createElement("h1");d.setAttribute("class","caption");b=document.getElementById(b);d.innerHTML=c;b.appendChild(d);c=document.createElement("h2");c.setAttribute("class","sub-caption");c.innerHTML=a;b.appendChild(c)};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$drawCompleteCharts=function(b,c,a,d,f,e,g,h,k,l){var r=0,q=0,m=0,n=0;"crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis?(r=Math.ceil(g),q=Math.ceil(h),n=Math.floor(0),m=Math.floor(1)):"trellis"===
this.Chart_ColumnChartRenderer$charts[0].vis?(r=Math.ceil(g-.001*g)+55,q=Math.ceil(h-.025*h)+55,n=Math.floor(0+.2*g)+55,m=Math.floor(0+.025*g)+55):console.log("Unsupported chart visualization.");g=r-n;h=q-m;var t=this.Chart_ColumnChartRenderer$chartProperties.dataMapper(g,h,n,m,c[b]);[].push(t);if("crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis){var p=new Chart.YAxis(m,n,m,r,"yAxis",k);l!==this.totalRows-1&&(k=new Chart.XAxis(q,r,m,r,"xAxis",k),k.render(e));0<e.getElementsByClassName("zeroPlane").length&&
(l=e.getElementsByClassName("xAxis"),Array.from(l).map(function(a){a.style.strokeWidth=0}));for(q=0;q<t.yData.length;q++)""!==t.yData[q]&&(a=f.drawCircleByClass(t.xData[q]+m,g-t.yData[q]+n,4,"graphCircle"),a.setAttributeNS(null,"data-value",c[b].yData[q]),a=h/t.xData.length-10,30<a&&(a=30),0<e.getElementsByClassName("zeroPlane").length?(d=e.getElementsByClassName("zeroPlane"),d=d[0].getAttributeNS(null,"y1"),0>c[b].yData[q]?(k=g-t.yData[q]+n-d,a=f.drawRectByClass(t.xData[q]+m-a/2,d-1,k,a,"column-plot")):
a=f.drawRectByClass(t.xData[q]+m-a/2,r-t.yData[q],t.yData[q]-(r-d),a,"column-plot")):a=f.drawRectByClass(t.xData[q]+m-a/2,r-t.yData[q],t.yData[q]+4,a,"column-plot"),a.setAttributeNS(null,"data-criteria",c[b].colorCriteria[q]),a.setAttributeNS(null,"data-value",c[b].yData[q]),e.appendChild(a))}else if("trellis"===this.Chart_ColumnChartRenderer$charts[0].vis)for(p=new Chart.YAxis(m,n-55,m,r-55,"yAxis",k),p.render(e),p.renderTicks(e,t.yTicks),b%d||p.renderTickValues(e,t.yTicks,c[b].yTicks),p.renderDivs(e,
t.yTicks,g,m,h),p.renderZeroPlane(e,t.yTicks,c[b].yTicks,h),k=new Chart.XAxis(q,r-55,m,r-55,"xAxis",k),k.render(e),0<e.getElementsByClassName("zeroPlane").length&&(l=e.getElementsByClassName("xAxis"),Array.from(l).map(function(a){a.style.strokeWidth=0})),k.renderTicks(e,t.xTicks),b>=a.length-d&&k.renderTickValues(e,t.xTicks,c[b].xData),a=f.drawRectByClass(m,n-55-40,30,h,"y-title-rect"),e.appendChild(a),a=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")",q=f.drawTextByClass(q/2-a.length,
n-55-20,a,"y-title"),e.appendChild(q),q=0;q<t.yData.length;q++)""!==t.yData[q]&&(a=f.drawCircleByClass(t.xData[q]+m,g-t.yData[q]+n-55,4,"graphCircle"),a.setAttributeNS(null,"data-value",c[b].yData[q]),a=h/t.xData.length-10,40<a&&(a=40),0<e.getElementsByClassName("zeroPlane").length?(d=e.getElementsByClassName("zeroPlane"),d=d[0].getAttributeNS(null,"y1"),0>c[b].yData[q]?(k=g-t.yData[q]+n-55-d,a=f.drawRectByClass(t.xData[q]+m-a/2,d-1,k,a,"column-plot")):a=f.drawRectByClass(t.xData[q]+m-a/2,r-t.yData[q]-
55,t.yData[q]-(r-d)+55,a,"column-plot")):a=f.drawRectByClass(t.xData[q]+m-a/2,r-t.yData[q]-55,t.yData[q],a,"column-plot"),a.setAttributeNS(null,"data-value",c[b].yData[q]),e.appendChild(a));else console.log("Unsupported chart visualization.")};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$drawIncompleteCharts=function(b,c,a,d,f,e,g,h,k){var l;a=Math.ceil(g-.095*g)+55;l=Math.ceil(h-.025*h)+55;h=Math.floor(0+.025*g)+55;g=Math.floor(0+.025*g)+55;var r=a-h,q=l-g,m=this.Chart_ColumnChartRenderer$chartProperties.dataMapper(r,
q,h,g,c[b]);[].push(m);var n=new Chart.YAxis(g,h-15,g,a-15,"yAxis",k);n.render(e);n.renderTicks(e,m.yTicks);b%d||n.renderTickValues(e,m.yTicks,c[b].yTicks);n.renderDivs(e,m.yTicks,r,g,q);n.renderZeroPlane(e,m.yTicks,c[b].yTicks,q);k=new Chart.XAxis(g,h-15,g,h-15,"xAxis",k);k.render(e);k.renderTicks(e,m.xTicks);b<d&&k.renderTickValues(e,m.xTicks,c[b].xData);d=f.drawRectByClass(g,a-7,30,q,"y-title-rect");e.appendChild(d);d=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")";d=f.drawTextByClass(l/
2-d.length,a+15,d,"y-title");e.appendChild(d);for(d=0;d<m.yData.length;d++)""!==m.yData[d]&&(f.drawCircleByClass(m.xData[d]+g,r-m.yData[d]+h-15,4,"graphCircle").setAttributeNS(null,"data-value",c[b].yData[d]),l=q/m.xData.length-10,40<l&&(l=40),0<e.getElementsByClassName("zeroPlane").length?(k=e.getElementsByClassName("zeroPlane")[0].getAttributeNS(null,"y1"),l=0>c[b].yData[d]?f.drawRectByClass(m.xData[d]+g-l/2,k-1,r-m.yData[d]+h-15-k,l,"column-plot"):f.drawRectByClass(m.xData[d]+g-l/2,a-m.yData[d]-
15,m.yData[d]-(a-k)+15,l,"column-plot")):l=f.drawRectByClass(m.xData[d]+g-l/2,a-m.yData[d]-15,m.yData[d],l,"column-plot"),l.setAttributeNS(null,"data-value",c[b].yData[d]),e.appendChild(l))};Chart.ColumnChartRenderer.prototype.Chart_ColumnChartRenderer_prototype$createCharts=function(b,c,a,d){var f,e,g,h=new Chart.SvgHelper,k=Math.floor(window.innerWidth/a);"crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis?(e=document.getElementsByClassName("multi-chart"+d),f=!0):"trellis"===this.Chart_ColumnChartRenderer$charts[0].vis?
(e=document.getElementsByClassName("multi-chart"),k>e.length&&(k=e.length),f=e.length%k?!1:!0):console.log("Visualization unsupported.");for(var l=0;l<e.length;l++){"crosstab"===this.Chart_ColumnChartRenderer$charts[0].vis?(g=h.createSvgByClass(c,a,"chart-svg"),l?1===l?this.Chart_ColumnChartRenderer_prototype$drawYLabels(b,e,h,g,c,a,l,d):f?this.Chart_ColumnChartRenderer_prototype$drawCompleteCharts(l-2,b,e,k,h,g,c,a,f,d):this.Chart_ColumnChartRenderer_prototype$drawIncompleteCharts(l-2,b,e,k,h,g,
c,a,f):this.Chart_ColumnChartRenderer_prototype$drawRowName(b,e,h,g,c,a,l,d),e[l].appendChild(g),0<l&&(e[l].style.borderRight="1px solid black")):"trellis"===this.Chart_ColumnChartRenderer$charts[0].vis?(g=h.createSvgByClass(c+55,a+55,"chart-svg"),f?this.Chart_ColumnChartRenderer_prototype$drawCompleteCharts(l,b,e,k,h,g,c,a,f):this.Chart_ColumnChartRenderer_prototype$drawIncompleteCharts(l,b,e,k,h,g,c,a,f),e[l].appendChild(g)):console.log("Visualization unsupported.");for(var r=g.getElementsByClassName("x-value"),
q=0;q<r.length;q++){var m=h.getRotationPoint(r[q]);r[q].setAttributeNS(null,"transform","rotate(270 "+m+")")}}}})();(function(){Chart.Data=function(b){this.type=this.width=this.height=this.subCaption=this.caption="";this.chartData=[];this.renderDiv=b};Chart.Data.prototype.ajaxLoader=function(b,c){var a=new XMLHttpRequest;if(!a)return console.log("Unable to create XMLHTTP instance."),!1;a.open("GET",b,!0);a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?c(JSON.parse(a.responseText)):console.log("There was a problem with the request"))};a.send()};Chart.Data.prototype.dataParser=
function(b){var c,a,d,f,e="",g=[],h=[],k=[],l=[],r=[],q=[],m=[],n=-Infinity,t=Infinity,p=this;this.vis=b.metadata.visualization;this.type=b.metadata.type;this.width=Number(b.metadata.width);this.sortBy=b.metadata.sortBy;this.height=Number(b.metadata.height);this.caption=b.metadata.caption;this.sortOrder=b.metadata.sortOrder;this.subCaption=b.metadata.subCaption;this.positiveColorEnd=b.metadata.positiveGradientEnd;this.negativeColorEnd=b.metadata.negativeGradientEnd;this.positiveColorStart=b.metadata.positiveGradientStart;
this.negativeColorStart=b.metadata.negativeGradientStart;b.data.map(function(a){Object.keys(a);var b=a.category.split("|");-1===h.indexOf(b[1])&&h.push(b[1]);a=a.data.split("|");void 0===a[1]?m.push(""):m.push(Number(a[1]));d=a[0]});m.map(function(a){""!==a&&(n=a>n?a:n,t=a<t?a:t)});h.forEach(function(m,u){k=[];b.data.map(function(a){Object.keys(a);var b=a.category.split("|");a=a.header.split("|");b[1]===m&&-1===k.indexOf(a[1])&&k.push(a[1])});k.forEach(function(c,e){var f;l=[];r=[];q=[];b.data.map(function(a){Object.keys(a);
var b=a.category.split("|"),d=a.header.split("|"),e=a.type.split("|"),g=a.data.split("|");a=a.highlight.split("|");b[1]===m&&d[1]===c&&(-1===l.indexOf(e[1])&&(f="trellis"===p.vis?Chart.chartUtilities.truncateString(e[1]):e[1],l.push(f)),Number.isNaN(Number(g[1]))&&void 0!==g[1]?r.push("0"):void 0===g[1]?r.push(""):r.push(g[1]),q.push(a[1]))});e=new Chart.MultiVarChart(e+2,p.vis,p.type,d,k[e],l,r);e.yHasString=!1;a=k.slice();a.unshift(b.data[0].category.split("|")[0]);a.unshift(b.data[0].type.split("|")[0]);
"crosstab"===p.vis&&(e.keys=a,e.minY=t,e.maxY=n,e.category=m,e.colorCriteria=q);p.chartData.push(e)});"function"==typeof p.customSort?p.customSort():p.sortData(p.sortBy);var v=new Chart.ChartPropertyCalculator(p.chartData);if("trellis"===p.vis)if("line"===p.type)h.indexOf(m)||(c=new Chart.LineChartRenderer(p.chartData,v),c.renderDiv=p.renderDiv,c.Chart_LineChartRenderer_prototype$createCaptions(p.renderDiv,p.caption,p.subCaption),c.Chart_LineChartRenderer_prototype$displayCharts(p.height,p.width));
else if("column"===p.type)h.indexOf(m)||(c=new Chart.ColumnChartRenderer(p.chartData,v),c.renderDiv=p.renderDiv,c.Chart_ColumnChartRenderer_prototype$createCaptions(p.renderDiv,p.caption,p.subCaption),c.Chart_ColumnChartRenderer_prototype$displayCharts(p.height,p.width));else if("bar"===p.type)h.indexOf(m)||(c=new Chart.BarChartRenderer(p.chartData,v),c.renderDiv=p.renderDiv,c.Chart_BarChartRenderer_prototype$createCaptions(p.renderDiv,p.caption,p.subCaption),c.Chart_BarChartRenderer_prototype$displayCharts(p.height,
p.width));else throw e="Chart type not supported in selected visualization type.",f=document.getElementById(p.renderDiv),f.innerHTML=e,{name:"ChartVisMismatchError",message:e,toString:function(){return this.name+": "+this.message}};else if("crosstab"===p.vis){var x=Math.floor((document.body.clientWidth-20)/a.length),y=Math.floor(window.innerHeight/h.length),z=a.length;110>y?y=110:300<y&&(y=300);if("bar"===p.type||"line"===p.type)c=new Chart.BarChartRenderer(p.chartData,v),c.renderDiv=p.renderDiv,
c.plotColor=p.positiveColorStart,c.plotColorEnd=p.positiveColorEnd,c.negativeColor=p.negativeColorStart,c.negativeColorEnd=p.negativeColorEnd,c.totalRows=h.length,u||c.Chart_BarChartRenderer_prototype$displayHeaders(20,x-z,a),c.Chart_BarChartRenderer_prototype$displayCharts(y-25,x-z,h.indexOf(m)),u===h.length-1&&c.Chart_BarChartRenderer_prototype$drawX(50,x-z,a,d),"bar"===p.type?(u=document.getElementsByClassName("bar-plot"),Array.from(u).map(function(a){g.push(a.getAttributeNS(null,"data-criteria"))})):
"line"===p.type&&(u=document.getElementsByClassName("graphCircle"),Array.from(u).map(function(a){g.push(a.getAttributeNS(null,"data-criteria"))}));else if("column"===p.type)c=new Chart.ColumnChartRenderer(p.chartData,v),c.renderDiv=p.renderDiv,c.plotColor=p.positiveColorStart,c.plotColorEnd=p.positiveColorEnd,c.negativeColor=p.negativeColorStart,c.negativeColorEnd=p.negativeColorEnd,c.totalRows=h.length,u||c.Chart_ColumnChartRenderer_prototype$displayHeaders(20,x-z,a),c.Chart_ColumnChartRenderer_prototype$displayCharts(y-
25,x-z,h.indexOf(m)),u===h.length-1&&c.Chart_ColumnChartRenderer_prototype$drawX(50,x-z,a,d),u=document.getElementsByClassName("column-plot"),Array.from(u).map(function(a){g.push(a.getAttributeNS(null,"data-criteria"))});else throw e="Chart type not supported in selected visualization type.",f=document.getElementById(p.renderDiv),f.innerHTML=e,{name:"ChartVisMismatchError",message:e,toString:function(){return this.name+": "+this.message}};}else throw e="Visualization type not supported.",f=document.getElementById(p.renderDiv),
f.innerHTML=e,{name:"ChartVisError",message:e,toString:function(){return this.name+": "+this.message}};p.chartData=[]});c.colorPlots(g);(new Chart.EventAgents(this.type,this.vis)).crosshairHandler(document.getElementsByClassName("chart-svg"))};Chart.Data.prototype.sortData=function(b){switch(b){case "average":this.sortByAverage();break;case "value":this.sortByValue();break;default:console.log("no sorting applied")}};Chart.Data.prototype.sortByAverage=function(){for(var b=[],c=$jscomp.makeIterator(this.chartData),
a=c.next();!a.done;a=c.next()){for(var d=0,f=0,a=$jscomp.makeIterator(a.value.yData),e=a.next();!e.done;e=a.next())e=e.value,""!==e&&(d+=e,f++);b.push(d/f)}this.chartData=this.multiSort(b,this.chartData,this.sortOrder)};Chart.Data.prototype.sortByValue=function(){for(var b=[],c=$jscomp.makeIterator(this.chartData),a=c.next();!a.done;a=c.next())b.push(Math.max.apply(Math,a.value.yData));this.chartData=this.multiSort(b,this.chartData,this.sortOrder)};Chart.Data.prototype.multiSort=function(b,c,a){var d=
[],f;for(f in c)d.push({sort:c[f],support:b[f]});"descending"==a?d.sort(function(a,b){return a.support>b.support?-1:a.support==b.support?0:1}):"ascending"==a&&d.sort(function(a,b){return a.support<b.support?-1:a.support==b.support?0:1});for(b=0;b<d.length;b++)c[b]=d[b].sort;return c}})();(function(){Chart.EventAgents=function(b,c){this.chartType=b;this.chartVis=c;this.svgHelper=new Chart.SvgHelper;document.getElementsByClassName("graphCircle")[0]&&(this.defaultAnchorStroke=getComputedStyle(document.getElementsByClassName("graphCircle")[0]).stroke,this.defaultAnchorFill=getComputedStyle(document.getElementsByClassName("graphCircle")[0]).fill);document.getElementsByClassName("column-plot")[0]&&(this.defaultPlotFill=getComputedStyle(document.getElementsByClassName("column-plot")[0]).fill)};
Chart.EventAgents.prototype.createCrosshair=function(b){var c=b.target.getBoundingClientRect().left;b=new CustomEvent("crosshairCreateEvent",{detail:b.clientX-c+71});for(var c=$jscomp.makeIterator(document.getElementsByClassName("chart-rect")),a=c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.createOtherCrosshairs=function(b){var c=Number(b.target.getAttributeNS(null,"height")),a=Number(b.target.getAttributeNS(null,"y"));c&&(a=this.svgHelper.drawLineByClass(b.detail,
a,b.detail,c+a,"otherCrosshair"),b.target.parentNode.insertBefore(a,b.target),a=this.svgHelper.drawRectByClass(b.detail,c,20,60,"otherTooltipBg"),a.setAttributeNS(null,"rx",2),a.setAttributeNS(null,"ry",2),a.style.visibility="hidden",b.target.parentNode.insertBefore(a,b.target),c=this.svgHelper.drawTextByClass(b.detail,c,"","otherTooltip"),c.style.visibility="hidden",b.target.parentNode.insertBefore(c,b.target))};Chart.EventAgents.prototype.moveCrosshair=function(b){var c=b.target.getBoundingClientRect().left;
b=new CustomEvent("crosshairMoveEvent",{detail:b.clientX-c+71});for(var c=$jscomp.makeIterator(document.getElementsByClassName("chart-rect")),a=c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.moveOtherCrosshairs=function(b){var c=b.target.parentNode.getElementsByClassName("otherCrosshair"),a=b.target.parentNode.getElementsByClassName("otherTooltip"),d=b.target.parentNode.getElementsByClassName("otherTooltipBg"),f=b.target.parentNode.getElementsByClassName("graphCircle"),
e=b.target.parentNode.getElementsByClassName("graphLine");getComputedStyle(f[0]);var g,h,k,l,r,q,m,n,t,p,w,u;c[0].setAttributeNS(null,"x1",b.detail-9);c[0].setAttributeNS(null,"x2",b.detail-9);p=c[0].getBoundingClientRect();q=c[0].getAttributeNS(null,"x1");m=c[0].getAttributeNS(null,"y1");n=c[0].getAttributeNS(null,"x2");t=c[0].getAttributeNS(null,"y2");if(c[0].getBoundingClientRect().left<f[0].getBoundingClientRect().left||c[0].getBoundingClientRect().right>f[f.length-1].getBoundingClientRect().right)a[0].style.visibility=
"hidden",d[0].style.visibility="hidden",f[0].style.stroke=this.defaultAnchorStroke,f[f.length-1].style.stroke=this.defaultAnchorStroke,f[0].setAttributeNS(null,"r",4),f[f.length-1].setAttributeNS(null,"r",4);else{for(var v=1;v<f.length;v++)g=e[v-1].getBoundingClientRect(),h=e[v-1].getAttributeNS(null,"x1"),k=e[v-1].getAttributeNS(null,"y1"),l=e[v-1].getAttributeNS(null,"x2"),r=e[v-1].getAttributeNS(null,"y2"),u=f[v].getAttributeNS(null,"data-value"),w=f[v-1].getAttributeNS(null,"data-value"),Chart.chartUtilities.isSvgColliding(g,
p)&&(g=Chart.chartUtilities.getLineIntersectionPoint(q,m,n,t,h,k,l,r),h=Chart.chartUtilities.getInterpolatedVal(h,w,l,u,g.x),a[0].style.visibility="initial",a[0].setAttributeNS(null,"x",g.x+6),a[0].setAttributeNS(null,"y",g.y+20),a[0].textContent=h,d[0].style.visibility="initial",d[0].setAttributeNS(null,"x",g.x+4),d[0].setAttributeNS(null,"y",g.y+5),d[0].setAttributeNS(null,"width",a[0].getComputedTextLength()+6));for(v=0;v<f.length;v++)e=f[v].getBBox(),n=f[v].getBoundingClientRect(),q=b.target.getBoundingClientRect(),
m=c[0].getBoundingClientRect(),Chart.chartUtilities.isSvgColliding(n,m)?(a[0].style.visibility="initial",d[0].style.visibility="initial",m=e.x+e.width+5,t=e.x+e.width+3,n=e.y+2*e.height,p=e.y+e.height-3,m+e.width+q.left>q.right&&(m-=5*e.width-5,t-=5*e.width-5),a[0].setAttributeNS(null,"x",m),a[0].setAttributeNS(null,"y",n+3),a[0].textContent=f[v].getAttributeNS(null,"data-value"),f[v].setAttributeNS(null,"r",5),f[v].style.stroke="#f15c5c",d[0].setAttributeNS(null,"x",t),d[0].setAttributeNS(null,"y",
p),d[0].setAttributeNS(null,"width",a[0].getComputedTextLength()+6)):(f[v].setAttributeNS(null,"r",4),f[v].style.stroke=this.defaultAnchorStroke)}};Chart.EventAgents.prototype.removeCrosshair=function(b){b=new Event("crosshairRemoveEvent");for(var c=$jscomp.makeIterator(document.getElementsByClassName("chart-rect")),a=c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.removeOtherCrosshairs=function(b){for(var c=b.target.parentNode.getElementsByClassName("otherCrosshair"),
a=b.target.parentNode.getElementsByClassName("otherTooltip"),d=b.target.parentNode.getElementsByClassName("graphCircle"),f=b.target.parentNode.getElementsByClassName("otherTooltipBg"),c=$jscomp.makeIterator(c),e=c.next();!e.done;e=c.next())b.target.parentNode.removeChild(e.value);d=$jscomp.makeIterator(d);for(c=d.next();!c.done;c=d.next())c=c.value,c.style.stroke=this.defaultAnchorStroke,c.setAttributeNS(null,"r",4);a=$jscomp.makeIterator(a);for(d=a.next();!d.done;d=a.next())b.target.parentNode.removeChild(d.value);
f=$jscomp.makeIterator(f);for(a=f.next();!a.done;a=f.next())b.target.parentNode.removeChild(a.value)};Chart.EventAgents.prototype.prepPlot=function(b){var c=b.target.getBoundingClientRect().left,a=b.target.getBoundingClientRect().top,d=b.target.getAttributeNS(null,"x"),f=b.target.getAttributeNS(null,"y");b=new CustomEvent("plotLightEvent",{detail:{mousex:b.clientX-c+62,mousey:b.clientY-a+3,hoveredPlotX:d,hoveredPlotY:f}});c=$jscomp.makeIterator(document.getElementsByClassName("column-plot"));for(a=
c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.prepAllPlots=function(b){var c;c=Math.floor(1E3*Number(b.detail.hoveredPlotX))/1E3;var a=Math.floor(1E3*Number(b.detail.hoveredPlotY))/1E3,d=Math.floor(1E3*b.target.getBBox().x)/1E3,f=Math.floor(1E3*b.target.getBBox().y)/1E3;"bar"!==this.chartType&&d==c?b.target.style.fill="#b94748":"bar"===this.chartType&&f==a&&(b.target.style.fill="#b94748");c=this.svgHelper.drawRectByClass(b.detail.mousex,b.detail.mousey,20,60,"otherTooltipBg");
c.setAttributeNS(null,"rx",2);c.setAttributeNS(null,"ry",2);c.style.visibility="hidden";b.target.parentNode.appendChild(c);c=this.svgHelper.drawTextByClass(b.detail.mousex,b.detail.mousey,"","otherTooltip");b.target.parentNode.appendChild(c)};Chart.EventAgents.prototype.prepTooltips=function(b){var c=b.target.parentNode.getBoundingClientRect().left,a=b.target.parentNode.getBoundingClientRect().top,d=b.target.getAttributeNS(null,"x"),f=b.target.getAttributeNS(null,"y");b=new CustomEvent("tooltipMoveEvent",
{detail:{mousex:b.clientX-c-15,mousey:b.clientY-a+15,hoveredPlotX:d,hoveredPlotY:f}});c=$jscomp.makeIterator(document.getElementsByClassName("column-plot"));for(a=c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.moveTooltips=function(b){var c=b.target.parentNode.getElementsByClassName("otherTooltip"),a=b.target.parentNode.getElementsByClassName("otherTooltipBg"),d=Math.floor(1E3*Number(b.detail.hoveredPlotX))/1E3,f=Math.floor(1E3*Number(b.detail.hoveredPlotY))/1E3,
e=Math.floor(1E3*b.target.getBBox().x)/1E3,g=Math.floor(1E3*b.target.getBBox().y)/1E3;"bar"!==this.chartType&&e==d?(a[0].style.visibility="initial",a[0].setAttributeNS(null,"x",b.detail.mousex),a[0].setAttributeNS(null,"y",b.detail.mousey),c[0].textContent=b.target.getAttributeNS(null,"data-value"),c[0].setAttributeNS(null,"x",b.detail.mousex+5),c[0].setAttributeNS(null,"y",b.detail.mousey+15),a[0].setAttributeNS(null,"width",c[0].getComputedTextLength()+10)):"bar"===this.chartType&&g==f&&(a[0].style.visibility=
"initial",a[0].setAttributeNS(null,"x",b.detail.mousex),a[0].setAttributeNS(null,"y",b.detail.mousey),c[0].textContent=b.target.getAttributeNS(null,"data-value"),c[0].setAttributeNS(null,"x",b.detail.mousex+5),c[0].setAttributeNS(null,"y",b.detail.mousey+15),a[0].setAttributeNS(null,"width",c[0].getComputedTextLength()+10))};Chart.EventAgents.prototype.unprepPlot=function(b){b=new Event("unprepPlotEvent");for(var c=$jscomp.makeIterator(document.getElementsByClassName("column-plot")),a=c.next();!a.done;a=
c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.unprepAllPlots=function(b){"rgb(185, 71, 72)"===b.target.style.fill&&(b.target.style.fill=this.defaultPlotFill);for(var c=b.target.parentNode.getElementsByClassName("otherTooltip"),a=b.target.parentNode.getElementsByClassName("otherTooltipBg"),c=$jscomp.makeIterator(c),d=c.next();!d.done;d=c.next())b.target.parentNode.removeChild(d.value);a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next())b.target.parentNode.removeChild(c.value)};
Chart.EventAgents.prototype.dragSelect=function(b){var c=b.target.parentNode,a=c.getBoundingClientRect().left,c=c.getBoundingClientRect().top;b=new CustomEvent("customDragSelect",{detail:{mousex:b.clientX-a,mousey:b.clientY-c}});a=$jscomp.makeIterator(document.getElementsByClassName("chart-svg"));for(c=a.next();!c.done;c=a.next())c.value.dispatchEvent(b)};Chart.EventAgents.prototype.customDragSelect=function(b){for(var c=$jscomp.makeIterator(document.getElementsByClassName("column-plot")),a=c.next();!a.done;a=
c.next())a.value.style.fill=this.defaultPlotFill;c=$jscomp.makeIterator(document.getElementsByClassName("graphCircle"));for(a=c.next();!a.done;a=c.next())a.value.style.fill=this.defaultAnchorFill;b.target.onmousemove=this.expandSelect;b.target.onmouseup=this.selectPlots;c=this.svgHelper.drawRectByClass(b.detail.mousex,b.detail.mousey,5,5,"select-box");c.setAttributeNS(null,"fill","red");c.setAttributeNS(null,"fill-opacity",.4);b.target.appendChild(c)};Chart.EventAgents.prototype.expandSelect=function(b){var c=
b.target.parentNode,a=c.getBoundingClientRect().left,c=c.getBoundingClientRect().top;b=new CustomEvent("customExpandSelect",{detail:{mousex:b.clientX-a,mousey:b.clientY-c}});a=$jscomp.makeIterator(document.getElementsByClassName("chart-svg"));for(c=a.next();!c.done;c=a.next())c.value.dispatchEvent(b)};Chart.EventAgents.prototype.customExpandSelect=function(b){var c=b.target.parentNode;c.getBoundingClientRect();for(var c=c.getElementsByClassName("select-box"),a=b.target.parentNode.getElementsByClassName("column-plot"),
d=b.target.parentNode.getElementsByClassName("graphCircle"),f=$jscomp.makeIterator(c),e=f.next();!e.done;e=f.next()){e=e.value;e.setAttributeNS(null,"width",b.detail.mousex);e.setAttributeNS(null,"height",b.detail.mousey);for(var e=$jscomp.makeIterator(a),g=e.next();!g.done;g=e.next())g=g.value,Chart.chartUtilities.isSvgColliding(c[0].getBoundingClientRect(),g.getBoundingClientRect())&&(g.style.fill="#b94749");e=$jscomp.makeIterator(d);for(g=e.next();!g.done;g=e.next())g=g.value,Chart.chartUtilities.isSvgColliding(c[0].getBoundingClientRect(),
g.getBoundingClientRect())&&(g.style.fill="#b94749")}};Chart.EventAgents.prototype.selectPlots=function(b){b=new Event("customSelectPlots");for(var c=$jscomp.makeIterator(document.getElementsByClassName("chart-svg")),a=c.next();!a.done;a=c.next())a.value.dispatchEvent(b)};Chart.EventAgents.prototype.customSelectPlots=function(b){b.target.onmouseup=null;b.target.onmousemove=null;var c=document.getElementsByClassName("select-box");b.target.removeChild(c[0])};Chart.EventAgents.prototype.crosshairHandler=
function(b){if("crosstab"!==this.chartVis){b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;if("column"===this.chartType||"bar"===this.chartType)for(var a=$jscomp.makeIterator(c.getElementsByClassName("column-plot")),d=a.next();!d.done;d=a.next())d=d.value,d.addEventListener("mouseenter",this.prepPlot),d.addEventListener("plotLightEvent",this.prepAllPlots.bind(this)),d.addEventListener("mousemove",this.prepTooltips),d.addEventListener("tooltipMoveEvent",this.moveTooltips.bind(this)),
d.addEventListener("mouseleave",this.unprepPlot),d.addEventListener("unprepPlotEvent",this.unprepAllPlots.bind(this));else if("line"===this.chartType)for(a=$jscomp.makeIterator(c.getElementsByClassName("chart-rect")),d=a.next();!d.done;d=a.next())d=d.value,d.addEventListener("mouseenter",this.createCrosshair),d.addEventListener("crosshairCreateEvent",this.createOtherCrosshairs.bind(this)),d.addEventListener("mousemove",this.moveCrosshair),d.addEventListener("crosshairMoveEvent",this.moveOtherCrosshairs.bind(this)),
d.addEventListener("mouseleave",this.removeCrosshair),d.addEventListener("crosshairRemoveEvent",this.removeOtherCrosshairs.bind(this));c.addEventListener("mousedown",this.dragSelect);c.addEventListener("customDragSelect",this.customDragSelect.bind(this));c.addEventListener("customExpandSelect",this.customExpandSelect.bind(this));c.addEventListener("customSelectPlots",this.customSelectPlots.bind(this))}}}})();(function(){Chart.LineChartRenderer=function(b,c){this.Chart_LineChartRenderer$charts=b;this.Chart_LineChartRenderer$chartProperties=c};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$displayCharts=function(b,c){var a=Infinity,d=-Infinity,f=Math.floor(window.innerWidth/(c+55));f>this.Chart_LineChartRenderer$charts.length&&(f=this.Chart_LineChartRenderer$charts.length);for(var e=0;e<this.Chart_LineChartRenderer$charts.length;e++){for(var g=e;g<f;g++){var h=Math.max.apply(Math,this.Chart_LineChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMaxMapper)),
k=Math.min.apply(Math,this.Chart_LineChartRenderer$charts[g].yData.map(Chart.chartUtilities.nullMinMapper));h>d&&(d=h);k<a&&(a=k)}if(Infinity!==a||-Infinity!==d)this.Chart_LineChartRenderer$charts[e].yTicks=this.Chart_LineChartRenderer$chartProperties.calculateYAxis(a,d),this.Chart_LineChartRenderer$charts[e].xTicks=this.Chart_LineChartRenderer$chartProperties.calculateYAxis(0,this.Chart_LineChartRenderer$charts[e].xData.length),this.Chart_LineChartRenderer_prototype$createDivs(this.renderDiv)}this.Chart_LineChartRenderer_prototype$createCharts(this.Chart_LineChartRenderer$charts,
b,c)};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$createDivs=function(b){var c=document.createElement("div");c.setAttribute("class","multi-chart");c.style.display="inline";document.getElementById(b).appendChild(c)};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$createCaptions=function(b,c,a){var d=document.createElement("h1");d.setAttribute("class","caption");b=document.getElementById(b);d.innerHTML=c;b.appendChild(d);c=document.createElement("h2");c.setAttribute("class",
"sub-caption");c.innerHTML=a;b.appendChild(c)};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$drawCompleteCharts=function(b,c,a,d,f,e,g,h,k){var l=Math.ceil(g-.001*g)+55,r=Math.ceil(h-.025*h)+55;h=Math.floor(0+.2*g)+55;g=Math.floor(0+.025*g)+55;var q=l-h,m=r-g,n=this.Chart_LineChartRenderer$chartProperties.dataMapper(q,m,h,g,c[b]);[].push(n);var t=new Chart.YAxis(g,h-55,g,l-55,"yAxis",k);t.render(e);t.renderTicks(e,n.yTicks);b%d||t.renderTickValues(e,n.yTicks,c[b].yTicks);t.renderDivs(e,
n.yTicks,q,g,m);k=new Chart.XAxis(r,l-55,g,l-55,"xAxis",k);k.render(e);k.renderTicks(e,n.xTicks);b>=a.length-d&&k.renderTickValues(e,n.xTicks,c[b].xData);a=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")";a=f.drawTextByClass(r/2-a.length,h-55-20,a,"y-title");d=f.drawRectByClass(g,h-55-40,30,m,"y-title-rect");e.appendChild(d);e.appendChild(a);for(a=0;a<n.yData.length-1;a++)if(d=0,""!==n.yData[a+1]&&""!==n.yData[a])d=f.drawLineByClass(n.xData[a]+g,q-n.yData[a]+h-55,n.xData[a+1]+g,q-n.yData[a+
1]+h-55,"graphLine"),e.appendChild(d);else if(""!==n.yData[a])for(r=a+2;r<n.yData.length;r++)if(a++,d++,""!==n.yData[r]){d=f.drawLineByClass(n.xData[a-d]+g,q-n.yData[a-d]+h-55,n.xData[r]+g,q-n.yData[r]+h-55,"graphLine inferredLine");e.appendChild(d);break}for(a=0;a<n.yData.length;a++)""!==n.yData[a]&&(d=f.drawCircleByClass(n.xData[a]+g,q-n.yData[a]+h-55,4,"graphCircle"),d.setAttributeNS(null,"data-value",c[b].yData[a]),e.appendChild(d));b=f.drawRectByClass(g,h-55,q,m,"chart-rect");b.setAttributeNS(null,
"fill-opacity",0);e.appendChild(b)};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$drawIncompleteCharts=function(b,c,a,d,f,e,g,h,k){var l=Math.ceil(g-.095*g)+55,r=Math.ceil(h-.025*h)+55;h=Math.floor(0+.025*g)+55;g=Math.floor(0+.025*g)+55;a=l-h;var q=r-g,m=this.Chart_LineChartRenderer$chartProperties.dataMapper(a,q,h,g,c[b]);[].push(m);var n=new Chart.YAxis(g,h-15,g,l-15,"yAxis",k);n.render(e);n.renderTicks(e,m.yTicks);b%d||n.renderTickValues(e,m.yTicks,c[b].yTicks);n.renderDivs(e,
m.yTicks,a,g,q);k=new Chart.XAxis(r,h-15,g,h-15,"xAxis",k);k.render(e);k.renderTicks(e,m.xTicks);b<d&&k.renderTickValues(e,m.xTicks,c[b].xData);d=f.drawRectByClass(g,l-7,30,q,"y-title-rect");e.appendChild(d);d=""===c[b].yUnit?c[b].yTitle:c[b].yTitle+" ("+c[b].yUnit+")";l=f.drawTextByClass(r/2-d.length,l+15,d,"y-title");e.appendChild(l);for(l=0;l<m.yData.length-1;l++)if(d=0,""!==m.yData[l+1]&&""!==m.yData[l])d=f.drawLineByClass(m.xData[l]+g,a-m.yData[l]+h-15,m.xData[l+1]+g,a-m.yData[l+1]+h-15,"graphLine"),
e.appendChild(d);else if(""!==m.yData[l])for(r=l+2;r<m.yData.length;r++)if(l++,d++,""!==m.yData[r]){d=f.drawLineByClass(m.xData[l-d]+g,a-m.yData[l-d]+h-15,m.xData[r]+g,a-m.yData[r]+h-15,"graphLine inferredLine");e.appendChild(d);break}for(l=0;l<m.yData.length;l++)""!==m.yData[l]&&(d=f.drawCircleByClass(m.xData[l]+g,a-m.yData[l]+h-15,4,"graphCircle"),d.setAttributeNS(null,"data-value",c[b].yData[l]),e.appendChild(d));b=f.drawRectByClass(g,h-15,a,q,"chart-rect");b.setAttributeNS(null,"fill-opacity",
0);e.appendChild(b)};Chart.LineChartRenderer.prototype.Chart_LineChartRenderer_prototype$createCharts=function(b,c,a){var d,f=new Chart.SvgHelper,e=Math.floor(window.innerWidth/(a+55)),g=document.getElementsByClassName("multi-chart");e>g.length&&(e=g.length);d=g.length%e?!1:!0;for(var h=0;h<g.length;h++){var k=f.createSvgByClass(c+55,a+55,"chart-svg");d?this.Chart_LineChartRenderer_prototype$drawCompleteCharts(h,b,g,e,f,k,c,a,d):this.Chart_LineChartRenderer_prototype$drawIncompleteCharts(h,b,g,e,
f,k,c,a,d);g[h].appendChild(k);for(var k=k.getElementsByClassName("x-value"),l=0;l<k.length;l++){var r=f.getRotationPoint(k[l]);k[l].setAttributeNS(null,"transform","rotate(270 "+r+")")}}}})();(function(){Chart.MappedChart=function(b,c,a,d,f,e,g){this.index=b;this.xTitle=c;this.yTitle=a;this.xData=d;this.yData=f;this.yTicks=e;this.xTicks=g}})();(function(){Chart.MultiVarChart=function(b,c,a,d,f,e,g,h,k){this.index=b;this.vis=c;this.type=a;this.xTitle=d;this.yTitle=f;this.xData=e;this.yData=g;this.xUnit=h?h:"";this.yUnit=k?k:""}})();(function(){Chart.SvgHelper=function(){this.svgns="http://www.w3.org/2000/svg"};Chart.SvgHelper.prototype.createSvgByClass=function(b,c,a){var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"height",b+"px");d.setAttributeNS(null,"width",c+"px");d.setAttributeNS(null,"version","1.1");d.setAttributeNS(null,"class",a);return d};Chart.SvgHelper.prototype.drawLineByClass=function(b,c,a,d,f){var e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttributeNS(null,
"x1",b);e.setAttributeNS(null,"y1",c);e.setAttributeNS(null,"x2",a);e.setAttributeNS(null,"y2",d);e.setAttributeNS(null,"stroke","black");e.setAttributeNS(null,"class",f);return e};Chart.SvgHelper.prototype.drawTextByClass=function(b,c,a,d){var f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttributeNS(null,"x",b);f.setAttributeNS(null,"y",c);f.setAttributeNS(null,"class",d);f.setAttributeNS(null,"stroke","black");f.textContent=a;return f};Chart.SvgHelper.prototype.drawRectByClass=
function(b,c,a,d,f){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttributeNS(null,"x",b);e.setAttributeNS(null,"y",c);e.setAttributeNS(null,"height",a);e.setAttributeNS(null,"width",d);e.setAttributeNS(null,"class",f);e.setAttributeNS(null,"fill","white");return e};Chart.SvgHelper.prototype.drawCircleByClass=function(b,c,a,d){var f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.setAttributeNS(null,"cx",b);f.setAttributeNS(null,"cy",c);f.setAttributeNS(null,
"r",a+"px");f.setAttributeNS(null,"class",d);return f};Chart.SvgHelper.prototype.getRotationPoint=function(b){b=b.getBBox();return b.x+14+", "+(b.y+b.height/2)}})();(function(){Chart.XAxis=function(b,c,a,d,f,e){Chart.Axis.call(this,b,c,a,d,f,e)};Chart.chartUtilities.inheritsFrom(Chart.XAxis,Chart.Axis);Chart.XAxis.prototype.renderTicks=function(b,c){var a;c=$jscomp.makeIterator(c);for(a=c.next();!a.done;a=c.next())a=a.value,a=this.columnsAreComplete?this.svgHelper.drawLineByClass(a,this.startY,a,this.endY+5,"xTick"):this.svgHelper.drawLineByClass(a,this.startY-5,a,this.startY,"xTick"),b.appendChild(a)};Chart.XAxis.prototype.renderTickValues=function(b,c,a){var d,
f=$jscomp.makeIterator(c);for(d=f.next();!d.done;d=f.next()){d=d.value;var e=a[c.indexOf(d)];d=this.columnsAreComplete?"crosstabs"===this.chartVis?c.indexOf(d)===c.length-1?"column"===this.chartType?this.svgHelper.drawTextByClass(d-13,this.startY+22,e,"x-value"):this.svgHelper.drawTextByClass(d-13,this.startY+22,"","x-value"):this.svgHelper.drawTextByClass(d-13,this.startY+22,e,"x-value"):this.svgHelper.drawTextByClass(d-13,this.startY+32,e,"x-value"):this.svgHelper.drawTextByClass(d-13,this.startY-
23,e,"x-value");b.appendChild(d)}}})();(function(){Chart.YAxis=function(b,c,a,d,f,e){Chart.Axis.call(this,b,c,a,d,f,e)};Chart.chartUtilities.inheritsFrom(Chart.YAxis,Chart.Axis);Chart.YAxis.prototype.renderTicks=function(b,c){var a;c=$jscomp.makeIterator(c);for(a=c.next();!a.done;a=c.next())a=a.value,a=this.columnsAreComplete?this.svgHelper.drawLineByClass(this.startX-5,a-55,this.endX,a-55,"yTick"):this.svgHelper.drawLineByClass(this.startX-5,a-15,this.endX,a-15,"yTick"),b.appendChild(a)};Chart.YAxis.prototype.renderTickValues=function(b,
c,a){var d,f=$jscomp.makeIterator(c);for(d=f.next();!d.done;d=f.next()){d=d.value;var e=a[c.indexOf(d)],e=Chart.chartUtilities.shortenLargeNumber(e,2);d=this.columnsAreComplete?"category"===this.type?this.svgHelper.drawTextByClass(45,d-55+5,e,"y-value"):this.svgHelper.drawTextByClass(45,this.endY+this.startY-d+60,e,"y-value"):this.svgHelper.drawTextByClass(50,this.endY+this.startY-d+20,e,"y-value");d.setAttributeNS(null,"text-anchor","end");b.appendChild(d)}};Chart.YAxis.prototype.renderDivs=function(b,
c,a,d,f){var e,g=$jscomp.makeIterator(c);for(e=g.next();!e.done;e=g.next())e=e.value,e=this.columnsAreComplete?this.svgHelper.drawRectByClass(d,e-55,a-e+c[0],f,"yDiv"):this.svgHelper.drawRectByClass(d,e-15,a-e+c[0],f,"yDiv"),b.appendChild(e)};Chart.YAxis.prototype.renderZeroPlane=function(b,c,a,d){var f,e=$jscomp.makeIterator(c);for(f=e.next();!f.done;f=e.next())f=f.value,0==a[c.indexOf(f)]&&(f=this.columnsAreComplete?this.svgHelper.drawLineByClass(this.startX,this.endY+this.startY-f+55,this.startX+
d,this.endY+this.startY-f+55,"zeroPlane"):this.svgHelper.drawLineByClass(this.startX,this.endY+this.startY-f+15,this.startX+d,this.endY+this.startY-f+15,"zeroPlane"),f.setAttributeNS(null,"stroke-opacity",100),b.appendChild(f))}})();

//# sourceMappingURL=chart.min.js.map
